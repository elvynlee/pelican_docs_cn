

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>编写内容 &mdash; pelican_cn 4.1.0 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pelican_cn
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">快速入门</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">安装 Pelican</a></li>
<li class="toctree-l1"><a class="reference internal" href="content.html">编写内容</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pelican_cn</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>编写内容</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/content(ELVYN--elvyn--2019-08-02-05,09,15).rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>编写内容<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<div class="section" id="id2">
<h2>文章和页面<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>在Pelican中，”文章” 是按时间顺序的内容，好比博客中的文章，因此它与日期相关联。</p>
<p>而”页面”则是不经常更改的内容（比如 “关于”页面，或者“联系”页面）。</p>
<p>你可以在Pelican官方库的 <code class="docutils literal notranslate"><span class="pre">samples/content/</span></code> 找到相关的范例。</p>
</div>
<div class="section" id="internal-metadata">
<span id="id3"></span><h2>文件元数据<a class="headerlink" href="#internal-metadata" title="永久链接至标题">¶</a></h2>
<p>Pelican 会自动尝试从文件系统中获取需要的信息（例如你的文章的分类类目），
然而有一些信息仍需要你在文件中以元数据的形式提供。</p>
<p>如果你用reStructuredText格式写文章，你可以通过以下语法在文件内提供元数据
（文件扩展名为 <code class="docutils literal notranslate"><span class="pre">.rst</span></code> ）:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>标题标题标题
##############

:date: 2010-10-03 10:20
:modified: 2010-10-04 18:40
:tags: thats, awesome
:category: yeah
:slug: my-super-post
:authors: Alexis Metaireau, Conan Doyle
:summary: 摘要摘要，供索引及feeds用
</pre></div>
</div>
<p>其中的作者列表Authors和标签列表tags，可以用分号当分隔符，这样单个作者名中或tag中可以包含逗号:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">:</span><span class="n">tags</span><span class="p">:</span> <span class="n">pelican</span><span class="p">,</span> <span class="n">publishing</span> <span class="n">tool</span><span class="p">;</span> <span class="n">pelican</span><span class="p">,</span> <span class="n">bird</span>
<span class="p">:</span><span class="n">authors</span><span class="p">:</span> <span class="n">Metaireau</span><span class="p">,</span> <span class="n">Alexis</span><span class="p">;</span> <span class="n">Doyle</span><span class="p">,</span> <span class="n">Conan</span>
</pre></div>
</div>
<p>Pelican实现扩展支持reStructuredText文件中使用 <code class="docutils literal notranslate"><span class="pre">abbr</span></code> HTML标签. 如果要使用的话，在文件中类似下面这样写:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>这里的内容会被编译 :abbr:`HTML (HyperText Markup Language)`.
</pre></div>
</div>
<p>你还可以用Markdown编写（扩展名为 <code class="docutils literal notranslate"><span class="pre">.md</span></code>, <code class="docutils literal notranslate"><span class="pre">.markdown</span></code>, <code class="docutils literal notranslate"><span class="pre">.mkd</span></code> 或者 <code class="docutils literal notranslate"><span class="pre">.mdown</span></code> 的文件）。
不过需要确保安装了 <code class="docutils literal notranslate"><span class="pre">Markdown</span></code> 模块（通过命令 <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">Markdown</span></code> 安装）。</p>
<p>Pelican也支持Markdown的扩展 <a class="reference external" href="https://python-markdown.github.io/extensions/">Markdown Extensions</a> ，如果这些扩展没有被包含在 <code class="docutils literal notranslate"><span class="pre">Markdown</span></code> 模块中的话，
则需要单独安装， 安装后可以在  <code class="docutils literal notranslate"><span class="pre">Markdown</span></code> 设置中加载。</p>
<p>Markdown中写元数据的语法如下:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Title</span><span class="p">:</span> <span class="n">标题标题</span>
<span class="n">Date</span><span class="p">:</span> <span class="mi">2010</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">03</span> <span class="mi">10</span><span class="p">:</span><span class="mi">20</span>
<span class="n">Modified</span><span class="p">:</span> <span class="mi">2010</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">05</span> <span class="mi">19</span><span class="p">:</span><span class="mi">30</span>
<span class="n">Category</span><span class="p">:</span> <span class="n">Python</span>
<span class="n">Tags</span><span class="p">:</span> <span class="n">pelican</span><span class="p">,</span> <span class="n">publishing</span>
<span class="n">Slug</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="nb">super</span><span class="o">-</span><span class="n">post</span>
<span class="n">Authors</span><span class="p">:</span> <span class="n">Alexis</span> <span class="n">Metaireau</span><span class="p">,</span> <span class="n">Conan</span> <span class="n">Doyle</span>
<span class="n">Summary</span><span class="p">:</span> <span class="n">摘要摘要</span>

<span class="n">正文内容内容</span>
</pre></div>
</div>
<p>你还可以在python模板中使用自己的元数据关键字（只要它们不与保留的元数据关键字冲突）。 以下是元数据保留关键字列表:</p>
<ul class="simple">
<li><cite>Title</cite></li>
<li><cite>Tags</cite></li>
<li><cite>Date</cite></li>
<li><cite>Modified</cite></li>
<li><cite>Status</cite></li>
<li><cite>Category</cite></li>
<li><cite>Author</cite></li>
<li><cite>Authors</cite></li>
<li><cite>Slug</cite></li>
<li><cite>Summary</cite></li>
<li><cite>Template</cite></li>
<li><cite>Save_as</cite></li>
<li><cite>Url</cite></li>
</ul>
<p>其他文件格式（如 <a class="reference external" href="http://www.methods.co.nz/asciidoc/">AsciiDoc</a> ）可通过插件获得。 请参阅Pelican官方库中 <a class="reference external" href="https://github.com/getpelican/pelican-plugins">pelican-plugins</a> 部分。</p>
<p>Pelican还可以处理以``.html``和``.htm``结尾的HTML文件。 Pelican以非常简单的方式解释HTML，
从 <code class="docutils literal notranslate"><span class="pre">meta</span></code> 标签读取元数据，从 <code class="docutils literal notranslate"><span class="pre">title</span></code> 标签读取标题，从 <code class="docutils literal notranslate"><span class="pre">body</span></code> 标签读取正文:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">head</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">title</span><span class="o">&gt;</span><span class="n">My</span> <span class="nb">super</span> <span class="n">title</span><span class="o">&lt;/</span><span class="n">title</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">meta</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;tags&quot;</span> <span class="n">content</span><span class="o">=</span><span class="s2">&quot;thats, awesome&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">meta</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;date&quot;</span> <span class="n">content</span><span class="o">=</span><span class="s2">&quot;2012-07-09 22:28&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">meta</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;modified&quot;</span> <span class="n">content</span><span class="o">=</span><span class="s2">&quot;2012-07-10 20:14&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">meta</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;category&quot;</span> <span class="n">content</span><span class="o">=</span><span class="s2">&quot;yeah&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">meta</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;authors&quot;</span> <span class="n">content</span><span class="o">=</span><span class="s2">&quot;Alexis Métaireau, Conan Doyle&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">meta</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;summary&quot;</span> <span class="n">content</span><span class="o">=</span><span class="s2">&quot;Short version for index and feeds&quot;</span> <span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="n">head</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">body</span><span class="o">&gt;</span>
        <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">content</span> <span class="n">of</span> <span class="n">my</span> <span class="nb">super</span> <span class="n">blog</span> <span class="n">post</span><span class="o">.</span>
    <span class="o">&lt;/</span><span class="n">body</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">html</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>HTML的标准元数据中有一个要注意的地方：标签tag在Pelican标准中是通过 <code class="docutils literal notranslate"><span class="pre">tags</span></code> 元数据指定的；
而在HTML标准中则通过 <code class="docutils literal notranslate"><span class="pre">keywords</span></code> 元数据指定。这两者可以互换使用。</p>
<p>请注意，除标题必需外，其他元数据都不是必需的：
如果没有指定日期并且 <code class="docutils literal notranslate"><span class="pre">DEFAULT_DATE</span></code> 设置为 <code class="docutils literal notranslate"><span class="pre">'fs'</span></code> 的话，Pelican将根据文件的 “mtime” 时间戳生成日期；
而分类则会根据文件所在的目录决定。例如，位于 <code class="docutils literal notranslate"><span class="pre">python/foobar/myfoobar.rst</span></code> 的文件将被归类为 <code class="docutils literal notranslate"><span class="pre">foobar</span></code> 。
如果你不想Pelican用子目录分类，而想以其他方式组织文件，你可以设置 <code class="docutils literal notranslate"><span class="pre">USE_FOLDER_AS_CATEGORY</span></code> 设置为 <code class="docutils literal notranslate"><span class="pre">False</span></code> 。
在解析日期元数据时，Pelican遵循W3C标准  <a class="reference external" href="https://www.w3.org/TR/NOTE-datetime">suggested subset ISO 8601</a> 。</p>
<p>所以标题是唯一需要的元数据。如果这个也让你不爽，不用担心。
你可以使用文章的文件名作为标题，而不是每次在文件内的元数据部分手动指定。例如，一篇Markdown文章的文件名为 <code class="docutils literal notranslate"><span class="pre">Publishing</span> <span class="pre">via</span> <span class="pre">Pelican.md</span></code> ，
系统自动提取出 <em>Publishing via Pelican</em> 作为文章的标题title。
你可以将下面这条语句添加到设置文件中以启用这个功能:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FILENAME_METADATA</span> <span class="o">=</span> <span class="s1">&#39;(?P&lt;title&gt;.*)&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">在尝试不同的设置（尤其是元数据设置）时，有可能会受缓存干扰，作的修改可能不见生效。
在这种情况下，可以使用 <code class="docutils literal notranslate"><span class="pre">LOAD_CONTENT_CACHE</span> <span class="pre">=</span> <span class="pre">False</span></code> 禁用缓存或
使用 <code class="docutils literal notranslate"><span class="pre">--ignore-cache</span></code> 命令行开关。</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">modified</span></code> 记录的应该是你对文章最后的一次更新，如果没有其它指定默认为 <code class="docutils literal notranslate"><span class="pre">date</span></code> 。
此外，你可以在模板中显示 <code class="docutils literal notranslate"><span class="pre">modified</span></code> ，当你修改文章后将 <code class="docutils literal notranslate"><span class="pre">modified</span></code> 设置为当前日期时，
Feed阅读器中的Feed条目将自动更新。</p>
<p><code class="docutils literal notranslate"><span class="pre">authors</span></code> 是以逗号分隔的文章作者列表。如果只有一个作者，你可以使用 <code class="docutils literal notranslate"><span class="pre">author</span></code> 字段。</p>
<p>如果不想在文件中写摘要提供summary元数据，则可以使用 <code class="docutils literal notranslate"><span class="pre">SUMMARY_MAX_LENGTH</span></code> 来设置从文章起始读取多少个字数作
为文章的摘要。</p>
<p>在设置 <code class="docutils literal notranslate"><span class="pre">FILENAME_METADATA</span></code> 属性这里，你可以用正则表达式从文件名中提取出元数据。
匹配的所有命名组都将设置在元数据对象中。 <code class="docutils literal notranslate"><span class="pre">FILENAME_METADATA</span></code> 设置的默认值是仅从文件名中提取日期。
例如，如果你想提取日期date和slug，你可以这样写： <code class="docutils literal notranslate"><span class="pre">'(?P&lt;date&gt;\d{4}-\d{2}-\d{2})_(?P&lt;slug&gt;.*)'</span></code></p>
<p>请注意，文件中可用的元数据优先于从文件名中提取的元数据。</p>
</div>
<div class="section" id="id5">
<h2>页面<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h2>
<p>如果在content目录中创建 <cite>pages</cite> 文件夹，所有pages目录中的文件将被生成静态页面，
例如 <strong>关于</strong> 页面或 <strong>联系人</strong> 页面。 （请参阅下面的示例文件系统的布局。）</p>
<p>您可以设置 <code class="docutils literal notranslate"><span class="pre">DISPLAY_PAGES_ON_MENU</span></code> 来控制是否在主导航菜单中显示这些页面。（默认为 <code class="docutils literal notranslate"><span class="pre">True</span></code> 。）</p>
<p>如果你想要某些页面不要在导航菜单中显示或者不要被指向，可以在页面文件的元数据中添加 <code class="docutils literal notranslate"><span class="pre">status:</span> <span class="pre">hidden</span></code> 属性。
比如制作一个配合主题风格的404静态页面时，就可以给这个页面作这样的设置。</p>
</div>
<div class="section" id="id6">
<h2>静态内容<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h2>
<p>静态文件是除了文章和页面之外的文件，这些文件不需要处理，会直接被复制到output输出文件夹。
您可以在项目配置文件 <code class="docutils literal notranslate"><span class="pre">pelicanconf.py</span></code> 中的 <code class="docutils literal notranslate"><span class="pre">STATIC_PATHS</span></code> 指定静态文件。
Pelican默认设置了 <code class="docutils literal notranslate"><span class="pre">images</span></code> 为静态文件目录，其他目录则需要你手动添加。
此外，还包括明确链接到的静态文件（见下文）。</p>
<div class="section" id="id7">
<h3>同一目录中的混合内容<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h3>
<p>从Pelican 3.5开始，静态文件可以安全地与页面源文件共享同一目录，而不会在生成的站点中公开页面源文件。
这种目录必须同时被添加到 <code class="docutils literal notranslate"><span class="pre">STATIC_PATHS</span></code> 和 <code class="docutils literal notranslate"><span class="pre">PAGE_PATHS</span></code>
（或者 <code class="docutils literal notranslate"><span class="pre">STATIC_PATHS</span></code> 和 <code class="docutils literal notranslate"><span class="pre">ARTICLE_PATHS</span></code> ）中。
Pelican将正常识别和处理页面源文件并复制其余文件，就像将其余文件视为是在单独目录中的静态文件一样。</p>
<p>注意：将静态文件和内容源文件放在同一源目录中并不能保证它们最终会在生成的站点中的同一位置。
最简单的方法是使用 <code class="docutils literal notranslate"><span class="pre">{attach}</span></code> 链接语法（如下所述）。又或者，
可以设置 <code class="docutils literal notranslate"><span class="pre">STATIC_SAVE_AS</span></code> ， <code class="docutils literal notranslate"><span class="pre">PAGE_SAVE_AS</span></code> 和 <code class="docutils literal notranslate"><span class="pre">ARTICLE_SAVE_AS</span></code> 这三个属性
（以及相应的 <code class="docutils literal notranslate"><span class="pre">*</span> <span class="pre">_URL</span></code> 属性）将不同类型的文件放在一起，就像早期版本的Pelican一样。</p>
</div>
</div>
<div class="section" id="ref-linking-to-internal-content">
<span id="id8"></span><h2>链接到内部内容<a class="headerlink" href="#ref-linking-to-internal-content" title="永久链接至标题">¶</a></h2>
<p>从Pelican 3.1开始，可以在 <em>源内容</em> 目录结构中指定文件的站点内链接，而不用在 <em>生成内容</em> 后的目录结构中指定。
这样可以更容易地从当前文章链接到可能与该文章相关的其他内容（而不必去确定每次生成站点时那些”其他内容”被放到了哪个目录）。</p>
<p>要链接到内部内容（ <code class="docutils literal notranslate"><span class="pre">content</span></code> 目录下的文件）时， 对链接目标使用这样的语法： <code class="docutils literal notranslate"><span class="pre">{filename}path/to/file</span></code>
注意：在上面的 <code class="docutils literal notranslate"><span class="pre">{filename}</span></code> 指令中正斜杠 <code class="docutils literal notranslate"><span class="pre">/</span></code> 是所有操作系统（包括Windows）的必需的路径分隔符。</p>
<p>例如，假设一个Pelican项目的目录框架如下:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>website/
├── content
│   ├── category/
│   │   └── article1.rst
│   ├── article2.md
│   └── pages
│       └── about.md
└── pelican.conf.py
</pre></div>
</div>
<p>其中， <code class="docutils literal notranslate"><span class="pre">article1.rst</span></code> 内容如下:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>第一篇文章
#################

:date: 2012-12-01 10:02

下面是以reStructuredText格式写的站内链接例子。

`这是一个相对于当前文件的链接 &lt;{filename}../article2.md&gt;`_
`这是一个相对于content根目录的链接 &lt;{filename}/article2.md&gt;`_
</pre></div>
</div>
<p>文件 <code class="docutils literal notranslate"><span class="pre">article2.md</span></code> 内容如下:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Title: 第二篇文章
Date: 2012-12-01 10:02

下面是以Markdown格式写的站内链接例子。

[一个相对于当前文件的链接]({filename}category/article1.rst)
[一个相对于content根目录的链接]({filename}/category/article1.rst)
</pre></div>
</div>
<div class="section" id="id9">
<h3>链接到固定文件<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h3>
<p>你可以用这样的语法 <code class="docutils literal notranslate"><span class="pre">{static}path/to/file</span></code> 来链接到固定内容。被此语法链接的文件将自动复制到输出目录，
即使包含这些文件的源目录不在 <code class="docutils literal notranslate"><span class="pre">pelicanconf.py</span></code> 文件的 <code class="docutils literal notranslate"><span class="pre">STATIC_PATHS</span></code> 列表中。</p>
<p>比如，假设一个Pelican项目的content目录框架如下:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>content
├── images
│   └── han.jpg
├── pdfs
│   └── menu.pdf
└── pages
    └── test.md
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">test.md</span></code> 文件包含:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>![Alt Text]({static}/images/han.jpg)
[Our Menu]({static}/pdfs/menu.pdf)
</pre></div>
</div>
<p>则生成网站时，会将文件 <code class="docutils literal notranslate"><span class="pre">han.jpg</span></code> 复制到 <code class="docutils literal notranslate"><span class="pre">output/images/han.jpg</span></code>，
将文件 <code class="docutils literal notranslate"><span class="pre">menu.pdf</span></code> 复制到 <code class="docutils literal notranslate"><span class="pre">output/pdfs/menu.pdf</span></code>， 然后在 <code class="docutils literal notranslate"><span class="pre">test.md</span></code> 写相应的链接。</p>
<p>如果使用 <code class="docutils literal notranslate"><span class="pre">{static}</span></code> 链接到文章或页面，会被转换为指向其源代码的链接。</p>
</div>
<div class="section" id="id10">
<h3>附加静态文件<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h3>
<p>从Pelican 3.5开始，可以使用语法  <code class="docutils literal notranslate"><span class="pre">{attach}path/to/file</span></code> 将静态文件作为链接目标“附加”到页面或文章，
其作用跟 <code class="docutils literal notranslate"><span class="pre">{static}</span></code> 一样，不同的是它还将静态文件复制到链接源文档的输出目录中。
如果静态文件原本是在链接源文档所在目录的子目录中，则保留这种目录结构关系，否则静态文件与链接源文档处在同一目录下。</p>
<p>这仅适用于链接到静态文件。</p>
<p>比如，假设一个Pelican项目的content目录框架如下:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>content
├── blog
│   ├── icons
│   │   └── icon.png
│   ├── photo.jpg
│   └── testpost.md
└── downloads
    └── archive.zip
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pelicanconf.py</span></code> 文件包含:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PATH</span> <span class="o">=</span> <span class="s1">&#39;content&#39;</span>
<span class="n">ARTICLE_PATHS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;blog&#39;</span><span class="p">]</span>
<span class="n">ARTICLE_SAVE_AS</span> <span class="o">=</span> <span class="s1">&#39;{date:%Y}/</span><span class="si">{slug}</span><span class="s1">.html&#39;</span>
<span class="n">ARTICLE_URL</span> <span class="o">=</span> <span class="s1">&#39;{date:%Y}/</span><span class="si">{slug}</span><span class="s1">.html&#39;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">testpost.md</span></code> 文件包含:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Title: Test Post
Category: test
Date: 2014-10-31

![Icon]({attach}icons/icon.png)
![Photo]({attach}photo.jpg)
[Downloadable File]({attach}/downloads/archive.zip)
</pre></div>
</div>
<p>站点生成时，会生成如下这样一个output目录框架:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>output
└── 2014
    ├── archive.zip
    ├── icons
    │   └── icon.png
    ├── photo.jpg
    └── test-post.html
</pre></div>
</div>
<p>Notice that all the files linked using <code class="docutils literal notranslate"><span class="pre">{attach}</span></code> ended up in or beneath
the article’s output directory.</p>
<p>If a static file is linked multiple times, the relocating feature of
<code class="docutils literal notranslate"><span class="pre">{attach}</span></code> will only work in the first of those links to be processed.
After the first link, Pelican will treat <code class="docutils literal notranslate"><span class="pre">{attach}</span></code> like <code class="docutils literal notranslate"><span class="pre">{static}</span></code>.
This avoids breaking the already-processed links.</p>
<p><strong>Be careful when linking to a file from multiple documents:</strong>
Since the first link to a file finalizes its location and Pelican does
not define the order in which documents are processed, using <code class="docutils literal notranslate"><span class="pre">{attach}</span></code> on a
file linked by multiple documents can cause its location to change from one
site build to the next. (Whether this happens in practice will depend on the
operating system, file system, version of Pelican, and documents being added,
modified, or removed from the project.) Any external sites linking to the
file’s old location might then find their links broken. <strong>It is therefore
advisable to use {attach} only if you use it in all links to a file, and only
if the linking documents share a single directory.</strong> Under these conditions,
the file’s output location will not change in future builds. In cases where
these precautions are not possible, consider using <code class="docutils literal notranslate"><span class="pre">{static}</span></code> links instead
of <code class="docutils literal notranslate"><span class="pre">{attach}</span></code>, and letting the file’s location be determined by the project’s
<code class="docutils literal notranslate"><span class="pre">STATIC_SAVE_AS</span></code> and <code class="docutils literal notranslate"><span class="pre">STATIC_URL</span></code> settings. (Per-file <code class="docutils literal notranslate"><span class="pre">save_as</span></code> and
<code class="docutils literal notranslate"><span class="pre">url</span></code> overrides can still be set in <code class="docutils literal notranslate"><span class="pre">EXTRA_PATH_METADATA</span></code>.)</p>
</div>
<div class="section" id="linking-to-authors-categories-index-and-tags">
<h3>Linking to authors, categories, index and tags<a class="headerlink" href="#linking-to-authors-categories-index-and-tags" title="永久链接至标题">¶</a></h3>
<p>You can link to authors, categories, index and tags using the <code class="docutils literal notranslate"><span class="pre">{author}name</span></code>,
<code class="docutils literal notranslate"><span class="pre">{category}foobar</span></code>, <code class="docutils literal notranslate"><span class="pre">{index}</span></code> and <code class="docutils literal notranslate"><span class="pre">{tag}tagname</span></code> syntax.</p>
</div>
<div class="section" id="deprecated-internal-link-syntax">
<h3>Deprecated internal link syntax<a class="headerlink" href="#deprecated-internal-link-syntax" title="永久链接至标题">¶</a></h3>
<p>To remain compatible with earlier versions, Pelican still supports vertical
bars (<code class="docutils literal notranslate"><span class="pre">||</span></code>) in addition to curly braces (<code class="docutils literal notranslate"><span class="pre">{}</span></code>) for internal links. For
example: <code class="docutils literal notranslate"><span class="pre">|filename|an_article.rst</span></code>, <code class="docutils literal notranslate"><span class="pre">|tag|tagname</span></code>, <code class="docutils literal notranslate"><span class="pre">|category|foobar</span></code>.
The syntax was changed from <code class="docutils literal notranslate"><span class="pre">||</span></code> to <code class="docutils literal notranslate"><span class="pre">{}</span></code> to avoid collision with Markdown
extensions or reST directives. Similarly, Pelican also still supports linking
to static content with <code class="docutils literal notranslate"><span class="pre">{filename}</span></code>. The syntax was changed to <code class="docutils literal notranslate"><span class="pre">{static}</span></code>
to allow linking to both generated articles and pages and their static sources.</p>
<p>Support for the old syntax may eventually be removed.</p>
</div>
</div>
<div class="section" id="importing-an-existing-site">
<h2>Importing an existing site<a class="headerlink" href="#importing-an-existing-site" title="永久链接至标题">¶</a></h2>
<p>It is possible to import your site from WordPress, Tumblr, Dotclear, and RSS
feeds using a simple script. See <span class="xref std std-ref">import</span>.</p>
</div>
<div class="section" id="translations">
<h2>Translations<a class="headerlink" href="#translations" title="永久链接至标题">¶</a></h2>
<p>It is possible to translate articles. To do so, you need to add a <code class="docutils literal notranslate"><span class="pre">lang</span></code> meta
attribute to your articles/pages and set a <code class="docutils literal notranslate"><span class="pre">DEFAULT_LANG</span></code> setting (which is
English [en] by default). With those settings in place, only articles with the
default language will be listed, and each article will be accompanied by a list
of available translations for that article.</p>
<div class="admonition note">
<p class="first admonition-title">注解</p>
<p class="last">This core Pelican functionality does not create sub-sites
(e.g. <code class="docutils literal notranslate"><span class="pre">example.com/de</span></code>) with translated templates for each
language. For such advanced functionality the <a class="reference external" href="https://github.com/getpelican/pelican-plugins/tree/master/i18n_subsites">i18n_subsites
plugin</a> can be used.</p>
</div>
<p>By default, Pelican uses the article’s URL “slug” to determine if two or more
articles are translations of one another. (This can be changed with the
<code class="docutils literal notranslate"><span class="pre">ARTICLE_TRANSLATION_ID</span></code> setting.) The slug can be set manually in the file’s
metadata; if not set explicitly, Pelican will auto-generate the slug from the
title of the article.</p>
<p>Here is an example of two articles, one in English and the other in French.</p>
<p>The English article:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Foobar</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">dead</span>
<span class="c1">##################</span>

<span class="p">:</span><span class="n">slug</span><span class="p">:</span> <span class="n">foobar</span><span class="o">-</span><span class="ow">is</span><span class="o">-</span><span class="ow">not</span><span class="o">-</span><span class="n">dead</span>
<span class="p">:</span><span class="n">lang</span><span class="p">:</span> <span class="n">en</span>

<span class="n">That</span><span class="s1">&#39;s true, foobar is still alive!</span>
</pre></div>
</div>
<p>And the French version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Foobar n&#39;est pas mort !
#######################

:slug: foobar-is-not-dead
:lang: fr

Oui oui, foobar est toujours vivant !
</pre></div>
</div>
<p>Post content quality notwithstanding, you can see that only item in common
between the two articles is the slug, which is functioning here as an
identifier. If you’d rather not explicitly define the slug this way, you must
then instead ensure that the translated article titles are identical, since the
slug will be auto-generated from the article title.</p>
<p>If you do not want the original version of one specific article to be detected
by the <code class="docutils literal notranslate"><span class="pre">DEFAULT_LANG</span></code> setting, use the <code class="docutils literal notranslate"><span class="pre">translation</span></code> metadata to specify
which posts are translations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Foobar</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">dead</span>
<span class="c1">##################</span>

<span class="p">:</span><span class="n">slug</span><span class="p">:</span> <span class="n">foobar</span><span class="o">-</span><span class="ow">is</span><span class="o">-</span><span class="ow">not</span><span class="o">-</span><span class="n">dead</span>
<span class="p">:</span><span class="n">lang</span><span class="p">:</span> <span class="n">en</span>
<span class="p">:</span><span class="n">translation</span><span class="p">:</span> <span class="n">true</span>

<span class="n">That</span><span class="s1">&#39;s true, foobar is still alive!</span>
</pre></div>
</div>
</div>
<div class="section" id="syntax-highlighting">
<span id="internal-pygments-options"></span><h2>Syntax highlighting<a class="headerlink" href="#syntax-highlighting" title="永久链接至标题">¶</a></h2>
<p>Pelican can provide colorized syntax highlighting for your code blocks.
To do so, you must use the following conventions inside your content files.</p>
<p>For reStructuredText, use the <code class="docutils literal notranslate"><span class="pre">code-block</span></code> directive to specify the type
of code to be highlighted (in these examples, we’ll use <code class="docutils literal notranslate"><span class="pre">python</span></code>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">code</span><span class="o">-</span><span class="n">block</span><span class="p">::</span> <span class="n">python</span>

   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pelican is a static site generator.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For Markdown, which utilizes the <a class="reference external" href="https://python-markdown.github.io/extensions/code_hilite/#syntax">CodeHilite extension</a> to provide syntax
highlighting, include the language identifier just above the code block,
indenting both the identifier and the code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">There</span> <span class="n">are</span> <span class="n">two</span> <span class="n">ways</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">the</span> <span class="n">identifier</span><span class="p">:</span>

    <span class="p">:::</span><span class="n">python</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The triple-colon syntax will *not* show line numbers.&quot;</span><span class="p">)</span>

<span class="n">To</span> <span class="n">display</span> <span class="n">line</span> <span class="n">numbers</span><span class="p">,</span> <span class="n">use</span> <span class="n">a</span> <span class="n">path</span><span class="o">-</span><span class="n">less</span> <span class="n">shebang</span> <span class="n">instead</span> <span class="n">of</span> <span class="n">colons</span><span class="p">:</span>

    <span class="c1">#!python</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The path-less shebang syntax *will* show line numbers.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The specified identifier (e.g. <code class="docutils literal notranslate"><span class="pre">python</span></code>, <code class="docutils literal notranslate"><span class="pre">ruby</span></code>) should be one that
appears on the <a class="reference external" href="http://pygments.org/docs/lexers/">list of available lexers</a>.</p>
<p>When using reStructuredText the following options are available in the
code-block directive:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="18%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Valid values</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>anchorlinenos</td>
<td>N/A</td>
<td>If present wrap line numbers in &lt;a&gt; tags.</td>
</tr>
<tr class="row-odd"><td>classprefix</td>
<td>string</td>
<td>String to prepend to token class names</td>
</tr>
<tr class="row-even"><td>hl_lines</td>
<td>numbers</td>
<td>List of lines to be highlighted, where
line numbers to highlight are separated
by a space. This is similar to
<code class="docutils literal notranslate"><span class="pre">emphasize-lines</span></code> in Sphinx, but it
does not support a range of line numbers
separated by a hyphen, or comma-separated
line numbers.</td>
</tr>
<tr class="row-odd"><td>lineanchors</td>
<td>string</td>
<td>Wrap each line in an anchor using this
string and -linenumber.</td>
</tr>
<tr class="row-even"><td>linenos</td>
<td>string</td>
<td>If present or set to “table” output line
numbers in a table, if set to
“inline” output them inline. “none” means
do not output the line numbers for this
table.</td>
</tr>
<tr class="row-odd"><td>linenospecial</td>
<td>number</td>
<td>If set every nth line will be given the
‘special’ css class.</td>
</tr>
<tr class="row-even"><td>linenostart</td>
<td>number</td>
<td>Line number for the first line.</td>
</tr>
<tr class="row-odd"><td>linenostep</td>
<td>number</td>
<td>Print every nth line number.</td>
</tr>
<tr class="row-even"><td>lineseparator</td>
<td>string</td>
<td>String to print between lines of code,
‘n’ by default.</td>
</tr>
<tr class="row-odd"><td>linespans</td>
<td>string</td>
<td>Wrap each line in a span using this and
-linenumber.</td>
</tr>
<tr class="row-even"><td>nobackground</td>
<td>N/A</td>
<td>If set do not output background color for
the wrapping element</td>
</tr>
<tr class="row-odd"><td>nowrap</td>
<td>N/A</td>
<td>If set do not wrap the tokens at all.</td>
</tr>
<tr class="row-even"><td>tagsfile</td>
<td>string</td>
<td>ctags file to use for name definitions.</td>
</tr>
<tr class="row-odd"><td>tagurlformat</td>
<td>string</td>
<td>format for the ctag links.</td>
</tr>
</tbody>
</table>
<p>Note that, depending on the version, your Pygments module might not have
all of these options available. Refer to the <em>HtmlFormatter</em> section of the
<a class="reference external" href="http://pygments.org/docs/formatters/">Pygments documentation</a> for more
details on each of the options.</p>
<p>For example, the following code block enables line numbers, starting at 153,
and prefixes the Pygments CSS classes with <em>pgcss</em> to make the names
more unique and avoid possible CSS conflicts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">code</span><span class="o">-</span><span class="n">block</span><span class="p">::</span> <span class="n">identifier</span>
    <span class="p">:</span><span class="n">classprefix</span><span class="p">:</span> <span class="n">pgcss</span>
    <span class="p">:</span><span class="n">linenos</span><span class="p">:</span> <span class="n">table</span>
    <span class="p">:</span><span class="n">linenostart</span><span class="p">:</span> <span class="mi">153</span>

   <span class="o">&lt;</span><span class="n">indented</span> <span class="n">code</span> <span class="n">block</span> <span class="n">goes</span> <span class="n">here</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>It is also possible to specify the <code class="docutils literal notranslate"><span class="pre">PYGMENTS_RST_OPTIONS</span></code> variable in your
Pelican settings file to include options that will be automatically applied to
every code block.</p>
<p>For example, if you want to have line numbers displayed for every code block
and a CSS prefix you would set this variable to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PYGMENTS_RST_OPTIONS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;classprefix&#39;</span><span class="p">:</span> <span class="s1">&#39;pgcss&#39;</span><span class="p">,</span> <span class="s1">&#39;linenos&#39;</span><span class="p">:</span> <span class="s1">&#39;table&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>If specified, settings for individual code blocks will override the defaults in
your settings file.</p>
</div>
<div class="section" id="publishing-drafts">
<h2>Publishing drafts<a class="headerlink" href="#publishing-drafts" title="永久链接至标题">¶</a></h2>
<p>If you want to publish an article or a page as a draft (for friends to review
before publishing, for example), you can add a <code class="docutils literal notranslate"><span class="pre">Status:</span> <span class="pre">draft</span></code> attribute to
its metadata. That article will then be output to the <code class="docutils literal notranslate"><span class="pre">drafts</span></code> folder and not
listed on the index page nor on any category or tag page.</p>
<p>If your articles should be automatically published as a draft (to not
accidentally publish an article before it is finished) include the status in
the <code class="docutils literal notranslate"><span class="pre">DEFAULT_METADATA</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DEFAULT_METADATA</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;draft&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To publish a post when the default status is <code class="docutils literal notranslate"><span class="pre">draft</span></code>, update the post’s
metadata to include <code class="docutils literal notranslate"><span class="pre">Status:</span> <span class="pre">published</span></code>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Elvyn

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>